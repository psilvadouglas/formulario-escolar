<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formul√°rio Escolar</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      color: #333;
      margin: 0;
      padding: 20px;
    }
    form {
      max-width: 500px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #444;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1em;
    }
    button {
      background-color: #4CAF50;
      color: white;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background-color: #45a049;
    }
    iframe {
      width: 100%;
      height: 300px;
      border: 0;
      margin-top: 20px;
    }
    .alerta {
      color: red;
      font-weight: bold;
      text-align: center;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h2>Formul√°rio Escolar</h2>
  <form id="escolaForm">
    <label for="nome">Nome completo do Aluno(a):</label>
    <input type="text" id="nome" name="nome" required>

    <label for="escola">Nome da escola:</label>
    <input type="text" id="escola" name="escola" required>

    <label for="tipo">Tipo da escola:</label>
    <select id="tipo" name="tipo" required>
      <option value="">Selecione</option>
      <option value="Municipal">Municipal</option>
      <option value="Estadual">Estadual</option>
    </select>

    <label for="turno">Turno:</label>
    <select id="turno" name="turno" required>
      <option value="">Selecione</option>
      <option value="Manh√£">Manh√£</option>
      <option value="Tarde">Tarde</option>
      <option value="Noite">Noite</option>
    </select>

    <label for="serie">S√©rie:</label>
    <select id="serie" name="serie" required>
      <option value="">Selecione</option>
      <option value="Creche">Creche</option>
      <option value="Maternal">Maternal</option>
      <option value="1¬∫ Per√≠odo">1¬∫ Per√≠odo</option>
      <option value="2¬∫ Per√≠odo">2¬∫ Per√≠odo</option>
      <option value="1¬∫ Ano">1¬∫ Ano</option>
      <option value="2¬∫ Ano">2¬∫ Ano</option>
      <option value="3¬∫ Ano">3¬∫ Ano</option>
      <option value="4¬∫ Ano">4¬∫ Ano</option>
      <option value="5¬∫ Ano">5¬∫ Ano</option>
      <option value="6¬∫ Ano">6¬∫ Ano</option>
      <option value="7¬∫ Ano">7¬∫ Ano</option>
      <option value="8¬∫ Ano">8¬∫ Ano</option>
      <option value="9¬∫ Ano">9¬∫ Ano</option>
        <option value="1¬∫ Ano Ensino M√©dio">1¬∫ Ano Ensino M√©dio</option>
        <option value="2¬∫ Ano Ensino M√©dio">2¬∫ Ano Ensino M√©dio</option>
        <option value="3¬∫ Ano Ensino M√©dio">3¬∫ Ano Ensino M√©dio</option>
    </select>

    <button type="button" onclick="enviarWhatsApp()">Enviar pelo WhatsApp</button>
  </form>

  <div id="mapaContainer"></div>
  <p class="alerta" id="alerta"></p>

  <script>
    let latitude = null;
    let longitude = null;

    // Tenta obter localiza√ß√£o com melhor compatibilidade
    if ("geolocation" in navigator) {
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          latitude = pos.coords.latitude;
          longitude = pos.coords.longitude;
          document.getElementById("mapaContainer").innerHTML =
            `<iframe src="https://www.google.com/maps?q=${latitude},${longitude}&z=15&output=embed"></iframe>`;
        },
        (error) => {
          document.getElementById("alerta").innerText =
            "‚ö†Ô∏è N√£o foi poss√≠vel acessar sua localiza√ß√£o. Ative a permiss√£o ou use HTTPS (ex: LocalTunnel).";
          console.error(error);
        },
        { timeout: 10000 }
      );
    } else {
      document.getElementById("alerta").innerText = "Seu navegador n√£o suporta geolocaliza√ß√£o.";
    }

    // Envia dados via WhatsApp
    function enviarWhatsApp() {
      const nome = document.getElementById("nome").value.trim();
      const escola = document.getElementById("escola").value.trim();
      const tipo = document.getElementById("tipo").value;
      const turno = document.getElementById("turno").value;
      const serie = document.getElementById("serie").value;

      if (!nome || !escola || !tipo || !turno || !serie) {
        alert("Por favor, preencha todos os campos obrigat√≥rios.");
        return;
      }

      const mensagem =
        `*Novo Formul√°rio Escolar*%0A` +
        `üë§ Nome: ${nome}%0A` +
        `üè´ Escola: ${escola}%0A` +
        `üè∑Ô∏è Tipo: ${tipo}%0A` +
        `üïê Turno: ${turno}%0A` +
        `üìò S√©rie: ${serie}%0A` +
        (latitude && longitude
          ? `üìç Localiza√ß√£o: https://www.google.com/maps?q=${latitude},${longitude}`
          : "üìç Localiza√ß√£o: N√£o capturada");

      // Substitua o n√∫mero abaixo pelo seu n√∫mero de WhatsApp (ex: 55 + DDD + n√∫mero)
      const numeroWhatsApp = "5538991006958";

      const urlApp = `whatsapp://send?phone=${numeroWhatsApp}&text=${mensagem}`;
window.location.href = urlApp;

    }
  </script>
    <footer style="text-align:center; margin-top:20px; font-size:0.9em; color:#555;">
 Criado por <strong>Douglas Silva</strong> ‚Ä¢ Graphic Designer<br>
    üìû <a href="https://wa.me/5538999565216" target="_blank" style="color:#4CAF50; text-decoration:none;">
      (38) 99956-5216
    </a>
  </footer>

</body>
</html>
